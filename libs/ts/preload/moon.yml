tasks:
  # install: # handled by PNPM
  #   command:

  build:
    env:
      BUILD_OUT_DIR: dist/build
    command: tsc --noEmit && vite build
    outputs: ['dist/build/']

  bundle:
    extends: build
    env:
      BUILD_OUT_DIR: dist/bundle
    outputs: ['dist/bundle/']

  clean:
    command: rm -rf dist && rm -rf node_modules
    options: { cache: false }

  lint:
    command: moon run \'~:tsLint\' # call script in .moon/tasks.yml

  lint-fix:
    command: moon run \'~:tsLintFix\' # call script in .moon/tasks.yml

  test:
    command: moon run \'~:tsTest\' # call script in .moon/tasks.yml

  test-w:
    command: moon run \'~:tsTestWatch\' # call script in .moon/tasks.yml
