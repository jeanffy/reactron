tasks:
  install:
    command: go install

  clean:
    command: rm -rf dist
    options: { cache: false }

  build:
    command: go build -o dist/worker
    outputs: ['dist/']

  lint:
    command: moon run \'~:goLint\' # call script in .moon/tasks.yml

  lint-fix:
    command: moon run \'~:goLintFix\' # call script in .moon/tasks.yml

  start:
    command: go run .
